(this["webpackJsonpface-ai"]=this["webpackJsonpface-ai"]||[]).push([[0],{347:function(e,t,n){},348:function(e,t,n){},349:function(e,t,n){},351:function(e,t,n){"use strict";n.r(t);var a=n(5),o=n.n(a),i=n(89),c=n.n(i),r=(n(99),n(90)),l=n(91),s=n(94),u=n(93),d=n(92),m=n.n(d),p=n(45),f=n.n(p),h=(n(347),function(e){var t=e.imageUrl,n=e.boxes;return o.a.createElement("div",{className:"center ma"},o.a.createElement("div",{className:"absolute mt2"},o.a.createElement("img",{id:"inputImage",alt:"",src:t,width:"500px",height:"auto"}),n.map((function(e){return o.a.createElement("div",{className:"bounding-box",style:{top:e.topRow,right:e.rightCol,bottom:e.bottomRow,left:e.leftCol}})}))))}),g=(n(348),function(e){var t=e.onInputChange,n=e.onButtonSubmit;return o.a.createElement("div",null,o.a.createElement("p",{className:"f3"},"This magic app will detect faces in your pictures. Give it a try."),o.a.createElement("div",{className:"center"},o.a.createElement("div",{className:"form center pa4 br3 shadow-5"},o.a.createElement("input",{className:"f4 pa2 w-70 center",type:"tex",onChange:t}),o.a.createElement("button",{className:"w-30 grow f4 link ph3 pv2 dib white bg-light-purple",onClick:n},"Detect"))))}),b=(n(349),{particles:{number:{value:6,density:{enable:!0,value_area:800}},color:{value:"#1b1e34"},shape:{type:"polygon",stroke:{width:0,color:"#000"},polygon:{nb_sides:6},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.3,random:!0,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:160,random:!1,anim:{enable:!0,speed:10,size_min:40,sync:!1}},line_linked:{enable:!1,distance:200,color:"#ffffff",opacity:1,width:2},move:{enable:!0,speed:8,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"grab"},onclick:{enable:!1,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}),v=new f.a.App({apiKey:"5df446e4e6b44d8eb8a2ae53678b7c2d"}),w=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).calculateFaceLocations=function(e){var t=document.getElementById("inputImage"),n=Number(t.width),a=Number(t.height);return e.outputs[0].data.regions.map((function(e){var t=e.region_info.bounding_box;return{leftCol:t.left_col*n,topRow:t.top_row*a,rightCol:n-t.right_col*n,bottomRow:a-t.bottom_row*a}}))},e.displayFaceBoxes=function(t){e.setState({boxes:t})},e.onInputChange=function(t){e.setState({input:t.target.value})},e.onButtonSubmit=function(){e.setState({imageUrl:e.state.input}),v.models.predict(f.a.FACE_DETECT_MODEL,e.state.input).then((function(t){t&&fetch("http://localhost:3000/image",{method:"put",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})),e.displayFaceBoxes(e.calculateFaceLocations(t))})).catch((function(e){return console.log(e)}))},e.state={input:"",imageUrl:"",boxes:[]},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.boxes,n=e.imageUrl;return o.a.createElement("div",{className:"App"},o.a.createElement(m.a,{className:"particles",params:b}),o.a.createElement("div",null,o.a.createElement(g,{onInputChange:this.onInputChange,onButtonSubmit:this.onButtonSubmit}),o.a.createElement(h,{boxes:t,imageUrl:n})))}}]),n}(a.Component),y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function E(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(350);c.a.render(o.a.createElement(w,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/face-AI",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/face-AI","/service-worker.js");y?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):E(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):E(e)}))}}()},99:function(e,t,n){}},[[351,1,2]]]);
//# sourceMappingURL=main.76b8d25d.chunk.js.map